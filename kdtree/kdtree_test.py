from kdtree.kdtree import KDtree

# krotki (P, (lower_left, upper_right), result)
a = ([(0, 20), (-20, -20), (20, 20), (20, 0), (-20, 0), (0, -20)], ((0, -20), (20, 20)), [(0, -20), (0, 20), (20, 0), (20, 20)])
b = ([(0, 0), (20, 10), (20, 70), (60, 10), (60, 40), (70, 80), (75, 90), (80, 85), (80, 80), (80, 83)], ((20, 60), (80, 90)), [(20, 70), (70, 80), (75, 90), (80, 80), (80, 83), (80, 85)])
c = ([(1, 9), (2, 8), (3, 7), (4, 6), (5, 5), (6, 4), (7, 3), (8, 2), (9, 1)], ((5, 0), (9, 5)), [(5, 5), (6, 4), (7, 3), (8, 2), (9, 1)])
d = ([(1, 2, 3), (4, 5, 6), (7, 8, 9), (10, 11, 12), (13, 14, 15)], ((3, 4, 5), (11, 12, 13)), [(4, 5, 6), (7, 8, 9), (10, 11, 12)])
e = ([(1, 2, 3, 4), (5, 6, 7, 8), (9, 10, 11, 12), (13, 14, 15, 16)], ((4, 5, 6, 7), (10, 11, 12, 13)), [(5, 6, 7, 8), (9, 10, 11, 12)])
f = ([(1, 2, 3, 4, 5), (6, 7, 8, 9, 10), (11, 12, 13, 14, 15), (16, 17, 18, 19, 20)], ((5, 6, 7, 8, 9), (12, 13, 14, 15, 16)), [(6, 7, 8, 9, 10), (11, 12, 13, 14, 15)])
g = ([(1, 2, 3, 4, 5, 6), (7, 8, 9, 10, 11, 12), (13, 14, 15, 16, 17, 18), (19, 20, 21, 22, 23, 24)], ((6, 7, 8, 9, 10, 11), (14, 15, 16, 17, 18, 19)), [(7, 8, 9, 10, 11, 12), (13, 14, 15, 16, 17, 18)])
h = ([(1, 2, 3, 4, 5, 6, 7), (8, 9, 10, 11, 12, 13, 14), (15, 16, 17, 18, 19, 20, 21), (22, 23, 24, 25, 26, 27, 28)], ((7, 8, 9, 10, 11, 12, 13), (16, 17, 18, 19, 20, 21, 22)), [(8, 9, 10, 11, 12, 13, 14), (15, 16, 17, 18, 19, 20, 21)])
i = ([(0.1, 0.2, 0.3), (0.4, 0.5, 0.6), (0.7, 0.8, 0.9), (1.0, 1.1, 1.2)], ((0.2, 0.3, 0.4), (0.8, 0.9, 1.0)), [(0.4, 0.5, 0.6), (0.7, 0.8, 0.9)])
j = ([(1.1, 2.2, 3.3), (4.4, 5.5, 6.6), (7.7, 8.8, 9.9), (10.0, 11.1, 12.2)], ((2.0, 3.0, 4.0), (8.0, 9.0, 10.0)), [(4.4, 5.5, 6.6), (7.7, 8.8, 9.9)])

tests = [a, b, c, d, e, f, g, h, i, j]

def runtests():
    for i in range(len(tests)):
        P, R, res = tests[i]
        kd = KDtree(P, len(P[0]), 1e-12)
        if sorted(kd.query(*R)) == res:
            print(f"Test {i}: zaliczony!")
        else:
            print(f"Test {i}: niezaliczony!!!")

if __name__ == '__main__':
    runtests()